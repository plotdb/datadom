<!DOCTYPE html><html><head><base href="../"><link rel="stylesheet" type="text/css" href="assets/lib/bootstrap/main/css/bootstrap.min.css"><link rel="stylesheet" type="text/css" href="assets/lib/bootstrap.ldui/main/bootstrap.ldui.min.css"><link rel="stylesheet" type="text/css" href="assets/lib/ldiconfont/main/ldif.min.css"><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Inconsolata&amp;display=swap"><link rel="stylesheet" type="text/css" href="assets/lib/ldcover/main/ldcv.min.css"><link rel="stylesheet" type="text/css" href="css/index.css"></head><body><div class="w-1024 mx-auto rwd my-4" id="root"></div><link rel="stylesheet" type="text/css" href="assets/lib/codemirror/main/lib/codemirror.css"><link rel="stylesheet" type="text/css" href="assets/lib/codemirror/main/theme/ayu-mirage.css"><link rel="stylesheet" type="text/css" href="assets/lib/codemirror/main/theme/mdn-like.css"><script type="text/javascript" src="assets/lib/codemirror/main/lib/codemirror.js"></script><script type="text/javascript" src="assets/lib/codemirror/main/mode/javascript/javascript.js"></script><script type="text/javascript" src="assets/lib/codemirror/main/mode/css/css.js"></script><script type="text/javascript" src="assets/lib/codemirror/main/mode/xml/xml.js"></script><script type="text/javascript" src="assets/lib/codemirror/main/mode/htmlmixed/htmlmixed.js"></script><script type="text/javascript" src="assets/lib/codemirror/main/mode/livescript/livescript.js"></script><script type="text/javascript" src="assets/lib/codemirror/main/mode/stylus/stylus.js"></script><script type="text/javascript" src="assets/lib/codemirror/main/mode/pug/pug.js"></script><script type="text/javascript" src="assets/lib/codemirror/main/mode/markdown/markdown.js"></script><script type="text/javascript" src="assets/lib/codemirror/main/addon/dialog/dialog.js"></script><script type="text/javascript" src="assets/lib/codemirror/main/addon/search/searchcursor.js"></script><script type="text/javascript" src="assets/lib/codemirror/main/keymap/vim.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/BrowserFS/2.0.0/browserfs.min.js"></script><script>BrowserFS.install(window);
BrowserFS.configure({
  fs: 'LocalStorage'
}, function(){
  var fs;
  return window.fs = fs = require("fs");
});</script><script type="text/javascript" src="assets/lib/@plotdb/pug-browser/main/pug.min.js"></script><script type="text/javascript" src="assets/lib/@plotdb/pug-browser/main/html2pug.min.js"></script><script type="text/javascript" src="/assets/lib/@plotdb/sandbox.js/main/sandbox.min.js"></script><script type="text/javascript" src="assets/lib/sharedb-wrapper/main/client.bundle.min.js"></script><script type="text/javascript" src="assets/lib/@plotdb/json0/main/json0.min.js"></script><script type="text/javascript" src="assets/lib/bootstrap.native/main/bootstrap-native.min.js"></script><script type="text/javascript" src="assets/lib/bootstrap.ldui/main/bootstrap.ldui.min.js"></script><script type="text/javascript" src="assets/lib/@loadingio/ldquery/main/ldq.min.js"></script><script type="text/javascript" src="assets/lib/@loadingio/debounce.js/main/debounce.min.js"></script><script type="text/javascript" src="assets/lib/ldcover/main/ldcv.min.js"></script><script type="text/javascript" src="assets/lib/ldview/main/ldview.min.js"></script><script type="text/javascript" src="assets/lib/datadom/dev/datadom.min.js"></script><script type="text/javascript" src="/assets/lib/proxise/main/proxise.js"></script><script type="text/javascript" src="/assets/lib/@plotdb/csscope/main/csscope.js"></script><script type="text/javascript" src="/assets/lib/@plotdb/rescope/main/rescope.js"></script><script type="text/javascript" src="/assets/lib/@plotdb/block/main/block.js"></script><script type="text/javascript" src="/assets/lib/datadom/dev/datadom-dev.js"></script><script>var loadSample, plugin, manager;
loadSample = function(arg$){
  var name;
  name = arg$.name;
  return manager.get({
    name: name,
    version: "0.0.1"
  }).then(function(it){
    return it.create();
  }).then(function(it){
    return it.attach({
      root: document.getElementById('container')
    });
  })['catch'](function(it){
    return console.log("failed to load block " + name, it);
  });
};
plugin = {
  test: function(){
    return true;
  },
  handle: function(o){
    return Promise.resolve().then(function(){
      return manager.get({
        name: o.data.name,
        version: "0.0.1"
      });
    }).then(function(ret){
      return debounce(2000).then(function(){
        return ret;
      });
    }).then(function(it){
      return it.create();
    }).then(function(it){
      return it.attach({
        root: o.node
      });
    }).then(function(){
      return o.node;
    });
  }
};
manager = new block.manager({
  registry: function(arg$){
    var name, version;
    name = arg$.name, version = arg$.version;
    return "/block/" + name + "/" + version + "/index.html";
  }
});
manager.init().then(function(){
  return ld$.fetch('/assets/data/data.json', {
    method: 'GET'
  }, {
    type: 'json'
  });
}).then(function(data){
  var dd;
  dd = new datadom({
    data: data,
    plugin: plugin
  });
  return dd.init().then(function(arg$){
    var node, promise;
    node = arg$.node, promise = arg$.promise;
    return root.appendChild(dd.getNode());
  }).then(function(){
    return console.log('done.');
  });
})['catch'](function(it){
  return console.log(it);
});</script></body></html>