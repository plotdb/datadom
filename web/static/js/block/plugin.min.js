var loadSample,manager,wm;loadSample=function(n){var e;return e=n.name,manager.get({name:e,version:"0.0.1"}).then(function(n){return n.create()}).then(function(n){return n.attach({root:document.getElementById("container")})}).catch(function(n){return console.log("failed to load block "+e,n)})},manager=new block.manager({registry:function(n){var e,t;return e=n.name,t=n.version,"/block/"+e+"/"+t+"/index.html"}}),wm=new WeakMap,block.from=function(n){return wm.get(n)},block.set=function(n,e){return wm.set(n,e)},block.plugin={name:"@plotdb/block",version:"0.0.1",possess:function(n){var e;return e={name:n.node.getAttribute("name"),version:n.node.getAttribute("version")},wm.set(n.node,e)},serialize:function(n){return(block.from(n.node)?Promise.resolve():datadom.possess(n.node,n.plugins)).then(function(){var e,t;if(e=block.from(n.node))return t=n.data,t.name=e.name,t.version=e.version,n.data.child=[]})},deserialize:function(n){return Promise.resolve().then(function(){return manager.get({name:n.data.name,version:"0.0.1"})}).then(function(n){return debounce(2e3).then(function(){return n})}).then(function(n){return n.create()}).then(function(e){return n.node.block=e,e.attach({root:n.node})}).then(function(){return n.node})},init:function(){return manager.init()}};